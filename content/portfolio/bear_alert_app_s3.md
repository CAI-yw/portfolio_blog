---
title: Animal Alert App Update - Integrating AWS S3 for Image Storage
date: 2024-11-16
images:
  - https://i.postimg.cc/MpKyhLDB/s3.png
description: To ease the uploading and retrieval of images, we integrated AWS S3 into the application.
---

## Overview

This update introduces AWS S3 integration to simplify image storage and management.

Usages of this new feature:

- Allows users to upload or update profile images.
- Supports attaching photos while creating or uploading a new animal sighting.

## Image Upload Dataflow:

1. The frontend calls the backend API's `POST` method.
2. The image is uploaded to the S3 bucket.
3. A record containing the image's UUID is stored in the backend database.

## Image Retrieval Dataflow:

1. The frontend calls the backend API's `GET` method.
2. The backend retrieves the relevant image UUIDs from the database (images associated with the specified sighting).
3. URLs are fetched from the S3 bucket and returned to the frontend.

## Key Insights and Notes

- **Testing**: We used Postman to thoroughly test the image upload endpoint.
- **Data Storage**: Storing UUIDs in the backend database instead of public URLs (generated by S3) provides better control and flexibility.
- **Endpoints**:

  - Upload Image: `POST localhost: 8080/api/sighting_images/{sightingId}`
    - Parameter: `file` (the image file to upload)
  - Retrieve Images: `GET localhost: 8080/api/sighting_images`
    - Parameter: `sightingId` (the ID of the sighting to retrieve associated images)
